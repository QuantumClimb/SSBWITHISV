# ğŸ¨ Annotation Panel - Quick Reference Card

## ğŸ“± UI Layout at a Glance

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  LEFT SIDEBAR                    RIGHT TOOLBAR  â”‚
â”‚  (Collapsible Settings)          (Main Controls)â”‚
â”‚  w-72 when expanded              Always visible â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ PENCIL MODE         â”‚      â”‚  View (V)     â”‚â”‚
â”‚  â”‚ 4px â€¢ Colored       â”‚      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚  âœP  â–­E      â”‚â”‚
â”‚                                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  Tool                          â”‚ 3D Pencil     â”‚â”‚
â”‚  [âœ Pencil] [â–­ Eraser]        â”‚ 3D Eraser     â”‚â”‚
â”‚                                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  Color (Pencil Only)           â”‚  â†” (toggle)  â”‚â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚ ğŸ”´ ğŸŸ¢ ğŸ”µ ğŸŸ¡ ğŸŸ£ âšª â”‚         â”‚  â†¶   ğŸ—‘      â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                 â”‚
â”‚  Pencil Width                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  4 px                        â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚      â—¯ (preview circle)      â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                 â”‚
â”‚  Size Presets                                  â”‚
â”‚  [S]  [M]  [L]                                 â”‚
â”‚                                                 â”‚
â”‚  [â†¶ Undo]  [ğŸ—‘ Clear]                         â”‚
â”‚                                                 â”‚
â”‚  Keyboard Shortcuts                            â”‚
â”‚  P - Pencil, E - Eraser                        â”‚
â”‚  1/2/3 - Size                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âŒ¨ï¸ Keyboard Shortcuts Cheat Sheet

### Tool Selection
| Key | Action | Mode |
|-----|--------|------|
| **P** | Pencil | 2D |
| **E** | Eraser | 2D |
| **V** | View | Navigation |

### Size Adjustment
| Key | Pencil | Eraser |
|-----|--------|--------|
| **1** | 2px | 30px |
| **2** | 4px | 60px |
| **3** | 8px | 100px |

### Actions
| Key | Action |
|-----|--------|
| **Ctrl+Z** | Undo last stroke |
| **Ctrl+C** | Clear all annotations |

---

## ğŸ¯ Common Workflows

### Quick Draw (Keyboard)
```
1. Press P (pencil)
2. Press 2 (medium)
3. Draw on canvas
4. Press Ctrl+Z if oops
5. Done!
```

### Change Color (Mouse + Keyboard)
```
1. Click blue color in grid
2. Press 3 (large)
3. Draw with blue, large brush
4. Press E (eraser)
5. Fix mistakes
```

### Eraser Only
```
1. Press E (eraser)
2. Press 2 (medium size)
3. Click on canvas to erase
4. Click preset L (large) for bigger eraser
5. Done!
```

### Collapse for More Space
```
1. Settings panel is open
2. Click â†” chevron icon in right toolbar
3. Left panel slides out (animation 300ms)
4. Full canvas space for drawing
5. Click â†” again to show settings
```

---

## ğŸ¨ Color Palette (Left Panel)

```
Pencil Colors (3Ã—2 Grid - Only Shows When Pencil Active)

ğŸ”´ Red       ğŸŸ¢ Green     ğŸ”µ Blue
#ef4444      #22c55e      #3b82f6

ğŸŸ¡ Yellow    ğŸŸ£ Purple    âšª White
#eab308      #a855f7      #ffffff
```

---

## ğŸ“Š Size Presets

### Pencil
- **S** (Small) = 2px â†’ Fine details, precise drawing
- **M** (Medium) = 4px â†’ Default, balanced
- **L** (Large) = 8px â†’ Bold strokes, quick annotations

### Eraser
- **S** (Small) = 30px â†’ Precise erasing, small fixes
- **M** (Medium) = 60px â†’ Default, balanced
- **L** (Large) = 100px â†’ Large area cleanup

---

## ğŸ”„ Tool Switching Matrix

```
Current Tool | Press | New Tool | Behavior
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
View         | P    | Pencil   | â†’ Open left panel
Pencil       | E    | Eraser   | â†’ Keep panel, hide colors
Eraser       | P    | Pencil   | â†’ Show color grid
Any Tool     | V    | View     | â†’ Collapse panel (optional)
```

---

## ğŸª Status Badge Meanings

```
â”Œâ”€ PENCIL MODE â”€â”€â”€â”    Current tool is pencil
â”‚ 4px â€¢ Colored   â”‚    Width is 4px, color is selected
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ ERASER MODE â”€â”€â”     Current tool is eraser
â”‚ 60px â€¢ Eraser  â”‚     Width is 60px (not affected by color)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ PENCIL 3D MODE â”    3D pencil tool active
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   (width/color shown but in 3D space)

â”Œâ”€ ERASER 3D MODE â”    3D eraser tool active
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   (removes 3D strokes on click)
```

---

## ğŸ–±ï¸ Mouse Interactions

### Left Sidebar (When Expanded)

| Element | Click | Effect |
|---------|-------|--------|
| **Pencil button** | Open | Switches to pencil, shows color grid |
| **Eraser button** | Open | Switches to eraser, hides color grid |
| **Color swatch** | Click | Changes pen color (auto-switches to pencil) |
| **Width slider** | Drag | Adjusts stroke width, preview updates |
| **S/M/L preset** | Click | Instantly applies that size |
| **Undo button** | Click | Removes last stroke |
| **Clear button** | Click | Removes all annotations (confirm dialog) |

### Right Toolbar (Always Visible)

| Element | Click | Effect |
|---------|-------|--------|
| **View button** | Click | Switches to view mode |
| **Pencil icon** | Click | Switches to pencil tool (panel stays) |
| **Eraser icon** | Click | Switches to eraser tool |
| **3D Pencil** | Click | 3D drawing mode |
| **3D Eraser** | Click | 3D erasing mode (click lines to delete) |
| **Chevron â†”** | Click | Toggle panel expand/collapse |
| **Undo icon** | Click | Undo last stroke |
| **Trash icon** | Click | Clear all (with confirmation) |

---

## ğŸ’¡ Pro Tips

### Speed Up Workflow
- **Use keyboard**: P/E/V/1/2/3 faster than clicking
- **Presets over slider**: S/M/L buttons are snappy
- **Keep panel open**: Don't collapse unless you need max space

### Precision Work
- **Use Size 1**: Press 1 for smallest brush (2px)
- **Watch preview**: Circle shows exact size before drawing
- **Use Undo liberally**: Ctrl+Z for quick fixes

### Efficiency
- **Color grid**: Click color â†’ auto-switches to pencil
- **Preset quick toggle**: 1â†’2â†’3 for rapid size changes
- **Collapse when done**: Close panel to save screen space

### Troubleshooting
- **Keyboard not working?**: Focus must be on app (not URL bar)
- **Settings hidden?**: Click chevron to expand panel
- **Colors not showing?**: Only visible in pencil mode
- **Size seems off?**: Check preview circle

---

## ğŸ¬ Typical Session Flow

```
Step 1: Launch App
â””â”€ Panel defaults to OPEN
â””â”€ Tool defaults to VIEW mode

Step 2: Start Annotating
â”œâ”€ Press P (or click pencil)
â”œâ”€ Panel shows PENCIL MODE
â”œâ”€ Choose color from grid (optional)
â””â”€ Ready to draw

Step 3: Drawing
â”œâ”€ Click on canvas to draw
â”œâ”€ Can adjust width with 1/2/3 anytime
â”œâ”€ Can change color anytime
â””â”€ Panel stays open (no interference)

Step 4: Corrections
â”œâ”€ Press E (eraser mode)
â”œâ”€ Erase mistakes
â”œâ”€ Press Ctrl+Z (undo) if needed
â””â”€ Back to Pencil mode (Press P)

Step 5: Done
â”œâ”€ Press V (view mode) or
â”œâ”€ Click chevron to collapse panel
â””â”€ Admire your annotation!
```

---

## ğŸ“ˆ Performance Notes

âœ… **What's Fast**:
- Keyboard shortcuts (instant)
- Preset buttons (instant)
- Panel animation (smooth 300ms)
- Preview circle (real-time)
- Color switching (immediate)

âœ… **What's Optimized**:
- No re-renders on width slider (debounced)
- CSS animations (GPU accelerated)
- Event listeners (properly cleaned up)
- DOM updates (minimal)

---

## âš ï¸ Known Limitations

âš ï¸ **Mobile**: Panel auto-collapses on small screens
âš ï¸ **Touch**: Large targets (48px+) for better precision
âš ï¸ **Keyboard**: Some systems may capture shortcuts
âš ï¸ **Colors**: Not visible if pencil color = background

---

## ğŸ”— File References

- **Implementation**: `components/Toolbar.tsx` (364 lines)
- **Main Logic**: `App.tsx` (unchanged, manages state)
- **Canvas**: `components/AnnotationCanvas.tsx` (unchanged)

### Documentation Files
1. **ANNOTATION_UX_SUMMARY.md** - High-level overview
2. **ANNOTATION_PANEL_VISUAL_GUIDE.md** - Visual layouts
3. **TOOLBAR_CODE_STRUCTURE.md** - Code deep dive
4. **ANNOTATION_NEXT_STEPS.md** - Future enhancements
5. **This file** - Quick reference

---

## ğŸ†˜ Quick Help

**Q: Pen not working?**
A: Make sure tool is "pencil" or "eraser" (not "view")

**Q: Settings hidden?**
A: Click the â†” chevron in right toolbar to expand

**Q: Keyboard shortcuts not working?**
A: Click on canvas first to ensure focus, then try

**Q: Size not changing?**
A: Use 1/2/3 keys for presets, or drag slider

**Q: Need more space?**
A: Click chevron to collapse panel

---

## ğŸ“ Feature Requests

Future ideas being considered:
- âœ¨ Save preset profiles (remember your settings)
- âœ¨ Pressure-sensitive brush (for stylus)
- âœ¨ Multiple brush styles (chalk, marker, etc.)
- âœ¨ Measurement tools (distance, angles)
- âœ¨ Export to PNG/SVG
- âœ¨ Annotation layers (organize strokes)
- âœ¨ Undo history panel (jump to any point)

See `ANNOTATION_NEXT_STEPS.md` for roadmap.

---

**Version**: 1.0 (February 2, 2026)
**Status**: âœ… Live
**Last Updated**: 2026-02-02
